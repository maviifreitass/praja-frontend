<div class="auth-container">
  <div class="auth-card">
    <!-- Logo e título -->
    <div class="auth-header">
      <div class="logo">
        <svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="107.000000pt" height="51.000000pt" viewBox="0 0 397.000000 191.000000" preserveAspectRatio="xMidYMid meet">

          <g transform="translate(0.000000,191.000000) scale(0.100000,-0.100000)" fill="#222222" stroke="none">
            <path d="M3102 1723 c-18 -9 -45 -32 -60 -51 -23 -30 -27 -45 -27 -102 0 -57 4 -72 27 -102 39 -51 88 -71 160 -66 51 4 63 9 97 42 72 70 77 162 14 237 -49 58 -142 76 -211 42z"/>
            <path d="M2616 1675 c5 -12 34 -15 171 -15 146 0 164 2 153 15 -10 12 -42 15 -171 15 -137 0 -158 -2 -153 -15z"/>
            <path d="M2542 1578 c4 -10 49 -14 171 -16 144 -2 167 0 167 13 0 13 -24 15 -171 15 -132 0 -170 -3 -167 -12z"/>
            <path d="M3683 1558 c-17 -6 -46 -26 -65 -45 -31 -32 -33 -38 -33 -109 -1 -75 -1 -76 -50 -136 -43 -53 -47 -61 -32 -70 27 -15 57 -51 63 -75 4 -13 9 -23 13 -23 6 0 103 113 122 143 4 5 30 13 59 18 62 10 94 29 120 72 21 34 28 121 11 132 -5 3 -29 -17 -52 -45 -36 -43 -47 -50 -78 -50 -47 0 -56 8 -64 48 -6 30 -2 40 38 87 37 43 42 54 29 59 -21 8 -42 6 -81 -6z"/>
            <path d="M2650 1369 c-167 -152 -180 -166 -180 -193 0 -38 15 -63 44 -70 37 -9 63 5 158 88 l87 76 65 0 c36 0 67 -3 69 -7 3 -5 -29 -71 -71 -148 -48 -89 -77 -155 -80 -183 -4 -40 -2 -45 44 -90 27 -26 69 -63 93 -82 88 -69 186 -152 197 -166 18 -23 167 -404 161 -410 -3 -3 -130 -8 -282 -11 -410 -9 -367 -22 120 -39 l180 -5 95 47 c141 69 165 99 119 145 -15 15 -31 20 -62 17 -35 -2 -42 1 -45 17 -2 11 -8 25 -12 30 -4 6 -15 33 -24 60 -9 28 -36 98 -59 155 -43 104 -44 106 -143 194 -54 49 -99 94 -99 101 0 14 88 205 95 205 3 0 14 -17 25 -37 37 -68 52 -72 209 -66 132 6 141 7 163 31 45 49 18 133 -42 132 -17 0 -71 -3 -120 -6 l-90 -6 -22 39 c-11 21 -31 55 -42 76 -41 73 -55 89 -105 118 l-51 29 -175 0 -175 -1 -45 -40z"/>
            <path d="M2283 1277 c-34 -29 -62 -58 -62 -64 -1 -9 15 -13 47 -13 40 0 58 7 125 52 42 29 77 58 77 65 0 9 -19 13 -62 13 -61 -1 -65 -2 -125 -53z"/>
            <path d="M141 1238 c-6 -29 -26 -145 -46 -258 -19 -113 -38 -215 -40 -227 -5 -22 -3 -23 58 -23 l64 0 12 74 12 73 102 6 c111 6 142 15 200 54 61 42 92 105 92 185 0 80 -19 112 -85 146 -40 20 -58 22 -201 22 l-158 0 -10 -52z m303 -72 c21 -13 26 -25 26 -55 0 -79 -63 -121 -180 -121 -63 0 -71 2 -67 18 3 9 10 49 17 87 6 39 14 76 16 84 6 20 153 10 188 -13z"/>
            <path d="M1630 1278 c0 -7 -3 -30 -6 -50 l-7 -38 97 0 c53 0 96 -3 96 -6 0 -32 -54 -293 -65 -314 -25 -48 -97 -56 -136 -15 -32 33 -49 31 -89 -10 -32 -33 -33 -34 -16 -60 53 -80 234 -87 314 -12 44 41 62 94 97 293 19 109 35 204 35 211 0 10 -36 13 -160 13 -121 0 -160 -3 -160 -12z"/>
            <path d="M919 1161 c-14 -5 -35 -14 -47 -20 -18 -10 -22 -9 -22 4 0 12 -12 15 -58 15 l-57 0 -34 -197 c-19 -109 -36 -206 -39 -215 -4 -16 4 -18 56 -18 l61 0 10 53 c6 28 15 81 21 117 19 108 46 140 130 157 43 8 45 10 52 52 4 24 5 48 2 52 -6 11 -39 10 -75 0z"/>
            <path d="M1158 1157 c-25 -8 -57 -21 -71 -30 -25 -16 -25 -17 -9 -57 13 -35 19 -40 36 -35 81 26 125 35 149 29 30 -6 63 -46 52 -64 -3 -5 -42 -10 -88 -10 -91 0 -145 -19 -186 -63 -32 -35 -41 -116 -16 -153 33 -51 137 -70 213 -39 24 10 38 12 40 5 2 -5 28 -10 57 -10 61 0 53 -18 86 180 23 135 23 136 3 175 -29 60 -61 77 -146 81 -41 2 -93 -2 -120 -9z m142 -266 c0 -21 -44 -61 -78 -72 -69 -20 -119 22 -76 65 11 12 35 16 85 16 38 0 69 -4 69 -9z"/>
            <path d="M2172 1155 c-96 -27 -102 -34 -81 -94 10 -27 15 -31 33 -26 82 26 125 35 149 29 30 -6 63 -46 52 -64 -3 -5 -42 -10 -88 -10 -98 0 -158 -25 -194 -79 -27 -40 -31 -106 -8 -137 35 -51 139 -69 213 -39 24 10 38 12 40 5 2 -5 28 -10 57 -10 61 0 53 -17 85 175 24 140 24 141 4 180 -10 21 -31 47 -46 58 -35 26 -144 32 -216 12z m138 -264 c0 -21 -44 -61 -78 -72 -69 -20 -119 22 -76 65 11 12 35 16 85 16 38 0 69 -4 69 -9z"/>
            <path d="M3597 1013 c-4 -3 -7 -18 -7 -32 0 -32 -58 -75 -81 -60 -25 16 -38 9 -58 -29 -19 -38 -19 -39 -1 -58 26 -27 30 -97 6 -123 -16 -18 -17 -24 -6 -50 18 -44 34 -55 60 -41 32 17 96 -14 104 -52 5 -26 9 -28 50 -28 41 0 44 2 50 33 8 42 62 79 105 71 25 -5 31 -2 45 24 21 40 20 51 -3 76 -27 28 -32 104 -8 117 23 13 21 28 -8 64 -21 26 -27 28 -52 19 -38 -14 -89 10 -102 48 -9 24 -15 28 -49 28 -21 0 -42 -3 -45 -7z m110 -158 c12 -8 27 -31 33 -49 22 -67 -34 -125 -107 -111 -18 3 -39 16 -48 28 -17 25 -20 79 -4 108 20 38 88 50 126 24z"/>
            <path d="M3266 927 c-31 -41 -33 -70 -6 -97 40 -40 74 -23 143 72 15 20 27 41 27 47 0 7 -27 11 -69 11 -68 0 -71 -1 -95 -33z"/>
            <path d="M2717 788 c-62 -172 -60 -170 -97 -183 -19 -7 -80 -25 -135 -41 -117 -32 -149 -55 -149 -110 0 -54 42 -88 99 -81 55 8 307 82 335 99 18 11 92 148 113 210 4 12 -14 35 -67 83 -40 36 -76 65 -78 65 -3 0 -12 -19 -21 -42z"/>
          </g>
        </svg>
      </div>
      <p class="auth-subtitle">Faça login em sua conta</p>
    </div>

    <!-- Mensagem de erro -->
    <div class="alert alert-error" *ngIf="errorMessage">
      <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/>
      </svg>
      {{ errorMessage }}
    </div>

    <!-- Formulário -->
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="auth-form">
      <!-- Email -->
      <div class="form-group">
        <label for="email" class="form-label">Email</label>
        <input
          id="email"
          type="email"
          formControlName="email"
          class="form-input"
          [class.error]="isFieldInvalid('email')"
          placeholder="seu@email.com"
          autocomplete="email"
          (input)="clearErrorMessage()"
        >
        <div class="error-message" *ngIf="isFieldInvalid('email')">
          {{ getFieldError('email') }}
        </div>
      </div>

      <!-- Senha -->
      <div class="form-group">
        <label for="password" class="form-label">Senha</label>
        <div class="password-input-container">
          <input
            id="password"
            [type]="showPassword ? 'text' : 'password'"
            formControlName="password"
            class="form-input password-input"
            [class.error]="isFieldInvalid('password')"
            placeholder="••••••••"
            autocomplete="current-password"
            (input)="clearErrorMessage()"
          >
          <button
            type="button"
            class="password-toggle"
            (click)="togglePasswordVisibility()"
            [attr.aria-label]="showPassword ? 'Ocultar senha' : 'Mostrar senha'"
          >
            <svg *ngIf="!showPassword" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
              <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
              <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
            </svg>
            <svg *ngIf="showPassword" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
              <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
              <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
              <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.708zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
            </svg>
          </button>
        </div>
        <div class="error-message" *ngIf="isFieldInvalid('password')">
          {{ getFieldError('password') }}
        </div>
      </div>

      <!-- Botão de login -->
      <button
        type="submit"
        class="btn-primary"
        [disabled]="isLoading"
      >
        <svg
          *ngIf="isLoading"
          class="loading-spinner"
          width="20"
          height="20"
          viewBox="0 0 24 24"
        >
          <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="2" opacity="0.3"/>
          <path fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" d="M12 2v4m0 12v4M4.93 4.93l2.83 2.83m8.48 8.48l2.83 2.83M2 12h4m12 0h4M4.93 19.07l2.83-2.83m8.48-8.48l2.83-2.83"/>
        </svg>
        <span *ngIf="!isLoading">Entrar</span>
        <span *ngIf="isLoading">Entrando...</span>
      </button>
    </form>
    
  </div>

  <!-- Informações adicionais -->
  <div class="auth-info">
    <h2>Sistema de Chamados PraJá</h2>
    <p>Gerencie tickets e solicitações de forma eficiente e organizada.</p>
    <ul>
      <li>Dashboard intuitivo</li>
      <li>Controle de prioridades</li>
      <li>Comunicação direta</li>
    </ul>
  </div>
</div>
